---
import { Image } from 'astro:assets';
import { AstroFont } from "astro-font";
import MenuResponsive from "../components/navbar/menuResponsive.vue";
import ContactButton from '~/components/common/ContactButton.astro';

import logoCampus from '~/assets/img/logos/logoCampus_v2.svg'
import facebook from '~/assets/img/icons/Facebook.svg'
import instagram from '~/assets/img/icons/Instagram.svg'
import linkedin from '~/assets/img/icons/LinkedIn.svg'
import youtube from '~/assets/img/icons/YouTube.svg'
import { ref } from 'vue';

// Estado reactivo para el menú
const isMenuVisible = ref(false);

// Función para alternar el estado del menú
function toggleMobileMenu() {
//   isMenuVisible.value = !isMenuVisible.value;
}

const { title, classFooter } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en" data-theme="dark" >
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
		<title>{title}</title>
		<AstroFont
			config={[
				{
					name: "Poppins",
					src: [
						{
							style: 'normal',
							weight: '400',
							path: '/public/fonts/Poppins-Regular.ttf'
						},
						{
							style: 'medium',
							weight: '500',
							path: './public/fonts/Afacad-Medium.woff2'
						},
					],
					preload: false,
					display: "swap",
					selector: "body",
					fallback: "sans-serif",
				},
			]}
		/>
	</head>
	<body class="relative overflow-x-hidden">
		<div id="go-up" class="flex justify-center align-middle bg-primary rounded-full size-10 fixed right-10 bottom-[5%] cursor-pointer z-50">
			<img src="/src/assets/img/icons/arrow-up.svg" alt="" width="25">
		</div>
		<MenuResponsive client:load>
			<Image slot="logo" src={logoCampus} alt="logoCampus" class="w-[14rem]" />
			<div class=" content-redirects items-center hidden md:flex h-full">
				<a href="/" aria-label="Home" class={ currentPath === '/' ? 'active' : 'text-white hover:text-gray-200'}>Inicio</a>
				<a href="/joinUs" class={ currentPath === '/joinUs' ? 'active' : '' }>Sé un Camper</a>
				<a href="/emplea" aria-label="Impulsa a tu equipo" class={ currentPath === '/emplea' ? 'active' : 'text-white hover:text-gray-200'}>Emplea</a>
				<a href="/patrocina" aria-label="Patrocina nuestros Campers" class={ currentPath === '/patrocina' ? 'active' : 'text-white hover:text-gray-200'}>Patrocina</a>
				<a href="/nosotros" class={ currentPath === '/nosotros' ? 'active' : 'text-white hover:text-gray-200' }>Nosotros</a>
				<!-- <a href="#" class={ currentPath === '#' ? 'active' : 'text-white hover:text-gray-200' }>Comunidad</a> -->
			</div>
			<div slot="menuMobile" class="md:hidden mt-5">
				<div class="flex flex-col items-center space-y-4 px-4 py-2 gap-y-3">
					<a href="/" class="text-white hover:text-gray-200">Inicio</a>
					<a href="/joinUs" class="text-white hover:text-gray-200">Se un Camper</a>
					<a href="/emplea" class="text-white hover:text-gray-200">Emplea</a>
					<a href="/patrocina" class="text-white hover:text-gray-200">Patrocina</a>
					<a href="/nosotros" class="text-white hover:text-gray-200">Nosotros</a>
				</div>
			</div>
		</MenuResponsive>
		<slot />
		<footer class="faq overflow-hidden relative">
			<div class={`max-w-[691px] vstext mx-auto my-auto flex flex-col gap-y-8 py-20 px-6 ${ classFooter }` }>
				<p class="gradient-text text-lg md:text-[28px] mb-1 font-bold text-center">¿Preparado para la evolución que tu empresa necesita? Accede al talento que impulsará tu crecimiento y marcará la diferencia.</p>
				<p class="text-white font-semibold text-center text-sm md:text-lg">Estamos listos para ayudarte a formar un equipo que marque la diferencia. Escríbenos y descubre cómo juntos podemos crear el futuro.
					¡Da el primer paso hacia un equipo imparable!</p>
				<ContactButton tipo="contacto" whatsApp='+50240579715' iconName='happyFace.svg' StylesAnchor='self-center' />
			</div>
			<div class="flex flex-col gap-y-4 px-14 pb-4">
				<div class="flex items-center border-b border-[transparent] md:border-white flex-col md:flex-row">
					<div class="text-white text-2xl font-bold mb-7 md:m-0">
						<a href="/">
							<Image
								src={logoCampus}
								alt=""
								height="60"
								class="max-h-[60px]"
							/>
						</a>
					</div>
					<div class="flex ms-auto flex-col w-full gap-6 md:w-fit md:flex-row md:gap-0 items-center space-x-6">
						<a href="/" aria-label="Home" class="text-white hover:text-gray-200 !m-0 px-4">Home</a>
						<a href="/emplea" aria-label="Impulsa a tu equipo" class="text-white hover:text-gray-200 !m-0 px-4">Emplea</a>
						<a href="/patrocina" aria-label="Patrocina nuestros Campers" class="text-white hover:text-gray-200 !m-0 px-4">Patrocina</a>
						<a href="/joinUs" class="text-white hover:text-gray-200 !m-0 px-4">Se un Camper</a>
						<a href="/nosotros" class="text-white hover:text-gray-200 !m-0 px-4">Nosotros</a>
						<a href="#" class="text-white hover:text-gray-200 !m-0 px-4">Comunidad</a>
					</div>
				</div>
				<div class="flex items-center flex-col-reverse md:flex-row">
					<p class="text-sm text-white text-center md:text-start md:me-auto">© Campus 2025. Todos los derechos reservados</p>
					<div class="block w-full h-[1px] bg-white my-4 md:hidden" />
					<div class="flex items-center w-full md:w-fit justify-between md:gap-x-10">
						<Image src={facebook} alt='Logo facebook' />
						<Image src={instagram} alt='Logo instagram' />
						<Image src={linkedin} alt='Logo linkedin' />
						<Image src={youtube} alt='Logo youtube' />
					</div>
				</div>
			</div>
		</footer>
	</body>
</html>
<script>
function goUp() {
	window.scrollTo({ top: 0, behavior: 'smooth' });
}

document.querySelector("#go-up").addEventListener("click", goUp);
</script>
<style is:global>
	nav.navbar {
		animation: bgHeader auto linear both;
		animation-timeline: scroll();
		animation-range: 0 200px;
		.content-redirects{
			a {
				line-height: 3;
				height: 100%;
				display: flex;
				align-items: center;
				padding: 1.2rem 2rem 0 2rem;
				font-weight: 600;
			}
			a.active {
				color: #02D9A4;
				border-bottom: 3px solid #02D9A4;
			}
		}
	}

	.glass {
		background: rgba(255, 255, 255, 0);
		box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(14px);
		-webkit-backdrop-filter: blur(14px);
	}

	:root {
		--accent: 136, 58, 234;
		--accent-light: 224, 204, 250;
		--accent-dark: 49, 10, 101;
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 30%,
			white 60%
		);
	}
	html {
		font-family: 'Poppins', sans-serif;
  		font-weight: 400;
		background-color: red;
	}
	code {
		font-family:
			Menlo,
			Monaco,
			Lucida Console,
			Liberation Mono,
			DejaVu Sans Mono,
			Bitstream Vera Sans Mono,
			Courier New,
			monospace;
	}
</style>
