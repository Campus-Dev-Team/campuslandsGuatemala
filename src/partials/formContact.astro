---
import CamperPhotoFrame from '../components/camperPhotoFrame.vue';
---

<main class="overflow-auto h-full w-full bg-texture" id="contactForm">
  <article class="w-full h-full">
    <section class="flex flex-col mx-8 lg:mx-32 pt-4 h-full gap-y-8">
      <img 
        src="img/logos/logoCampus_v1.svg" 
        alt="Logo Campus" 
        class="object-cover w-[156px] h-[48px]"
      >
      
      <div class="flex justify-center items-center h-full gap-x-[100px]">
        <div class="!shadow-[0_0_32px_0_rgba(0,0,0,0.4)] bg-gradient-to-bl !from-[#FFFFFF1F] !to-[#8484841F] backdrop-blur-2xl rounded-[40px] px-10 py-8 w-full min-w-[328px] lg:max-w-[456px]">
          <p class="gradient-text font-bold text-2xl">Contáctanos</p>
          <p class="text-sm font-normal my-2">Llena el formulario y nuestro equipo se comunicará contigo en breve.</p>
          
          <form id="contactFormFields" class="contact-form">
            <p class="font-semibold mt-5 pb-1">Tu nombre</p>
            <input 
              name="name" 
              class="w-full" 
              placeholder="¿Cómo te llamas?"
              required
            />
            
            <p class="font-semibold mt-5 pb-1">Correo electrónico</p>
            <input 
              name="email" 
              type="email" 
              class="w-full" 
              placeholder="Correo de contacto"
              required
            />
            
            <p class="font-semibold mt-5 pb-1">Contacto telefónico</p>
            <input 
              name="phone" 
              type="tel" 
              class="w-full" 
              placeholder="Número de teléfono"
              required
            />
            <button 
              type="submit" 
              class="flex items-center justify-center w-full primary mt-5 mb-2 gap-x-4 h-14"
            >
              Contactar 
              <img 
                src="img/icons/arrow-left.svg" 
                alt="" 
                class="hidden lg:block size-5"
              >
            </button>
            
            <p class="text-white text-center text-[10px]">
              *Al solicitar tu visita, aceptas el tratamiento de tus datos personales
            </p>
          </form>
        </div>
        
        <CamperPhotoFrame 
          class="block max-[1200px]:hidden" 
          img="img/campers/camper-contact.png" 
        />
      </div>
    </section>
  </article>
</main>

<style>
.bg-texture {
  background-image: url('/img/texxture.svg');
  background-position: 100% 100%;
  background-repeat: no-repeat;
  background-size: 75%;
}

/* Añade aquí cualquier estilo adicional necesario */
</style>

<script>
// Cliente-side JavaScript
document.addEventListener('astro:page-load', () => {
  const form = document.getElementById('contactFormFields');
  
  if (form) {
    const formData = {
      name: '',
      email: '',
      phone: ''
    };

    // Actualizar formData cuando los inputs cambien
    form.querySelectorAll('input').forEach(input => {
      input.addEventListener('input', (e) => {
        formData[e.target.name] = e.target.value;
      });
    });

    // Manejar el envío del formulario
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      try {
        // Aquí puedes añadir la lógica para enviar los datos
        console.log('Datos del formulario:', formData);
        
        // Resetear el formulario después del envío exitoso
        form.reset();
        
        // Opcional: Mostrar mensaje de éxito
        alert('Mensaje enviado con éxito');
      } catch (error) {
        console.error('Error al enviar el formulario:', error);
        alert('Hubo un error al enviar el mensaje');
      }
    });
  }
});
</script>